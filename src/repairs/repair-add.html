<template>
    <require from="./repair-summary"></require>
    <div class="container">
        <div class="row">
            <div class="col col-sm-6">
                <form submit.trigger="addRepair()" class="form-group">
                    <label for="name">Repairee Name:</label>
                    <input name="name" type="text" value.bind="name" class="form-control"></input>
                    <label for="email">Repairee Email:</label>
                    <input name="email" type="email" value.bind="email" class="form-control"></input>
                    <label for="type">Repair Type:</label>
                    <select name="type" value.bind="type" class="form-control">
                        <option repeat.for="type of types" value="${type}">${type}</option>
                    </select>
                    <input type="checkbox" checked.bind="reserved">Reserved with Eventbrite</input>
                    <input type="submit" value="Add Repair" class="btn btn-success"></input>
                    <div id="ticket-modal" class="modal fade" role="dialog">
                        <div class="modal-dialog">
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title">Ticket Submitted</h4>
                                </div>
                                <div class="modal-body">
                                    <p>Ticket Number: ${lastTicket.replace("-", " #")} (Please note this on the physical ticket)</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col col-sm-6">
                <repair-summary shouldpage.bind="false"></repair-summary>
            </div>
        </div>
    </div>
</template>
